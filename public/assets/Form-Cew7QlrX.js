import{D}from"./Dialog-CzQNm_aH.js";import{T as M}from"./TextInput-P9YfowMa.js";import{S as P}from"./SelectInput-DuQEsGg2.js";import{A as x}from"./AdminLayout-CHhwMEXq.js";import{L as B}from"./LoadingButton-O9oS0M_7.js";import{T as A}from"./DialogModal-C6zwJaS_.js";import{T as L}from"./TrashedMessage-BNhFU7vd.js";import{T as R}from"./FormSection-Stt1T2N5.js";import{T as N}from"./DangerButton-DnV_Vl5R.js";import{T as F}from"./SectionTitle-gSVZ5f0a.js";import{T as U}from"./ActionMessage-CRMYzNyY.js";import{T as I}from"./SecondaryButton-DuAF_qyf.js";import{_ as j,r as d,d as h,o as a,e as i,g as m,b as f,c,F as p,t as l,h as u,a as g,i as E}from"./app-CI7qIbXC.js";import"./Label-D5N1lBqm.js";import"./Input-Cp6JK_sq.js";import"./InputError-DdVaifAZ.js";import"./v4-C6aID195.js";import"./Modal-CiUoFiI1.js";import"./DropdownLink-u7U2R0kC.js";import"./ApplicationLogo-B1xsSWkx.js";import"./ApplicationMark-BpTNqTDI.js";const O={props:["edit","parents"],components:{Dialog:D,TextInput:M,AdminLayout:x,SelectInput:P,LoadingButton:B,TecDialogModal:A,TecFormSection:R,TecDangerButton:N,TrashedMessage:L,TecSectionTitle:F,TecActionMessage:U,TecSecondaryButton:I},data(){return{confirm:!1,permanent:!1,restoreConf:!1,form:this.$inertia.form({_method:this.edit?"put":"post",name:this.edit?this.edit.name:null,code:this.edit?this.edit.code:null,parent_id:this.edit?this.edit.parent_id:null})}},methods:{update(){this.form.post(this.edit?this.route("categories.update",this.edit.id):this.route("categories.store"),{preserveScroll:!0})},destroy(){this.confirm=!0},deleteCategory(){this.form.delete(route("categories.destroy",this.edit.id),{onSuccess:()=>this.closeModal()})},closeModal(){this.confirm=!1},restore(){this.restoreConf=!0},restoreCategory(){this.$inertia.put(this.route("categories.restore",this.edit.id),{onSuccess:()=>this.restoreConf=!1})},closeRestoreModal(){this.restoreConf=!1},deletePermanently(){this.permanent=!0},deleteCategoryPermanently(){this.form.delete(route("categories.destroy.permanently",this.edit.id),{onSuccess:()=>this.closeModal()})},closePermanentModal(){this.permanent=!1}}},q={class:"flex items-center"},z={class:"flex flex-col gap-y-6"},G={value:""},H=["value"],J={class:"w-full flex items-center justify-between"},K={key:1},Q={class:"flex items-center"};function W(e,o,r,X,s,n){const C=d("Link"),T=d("trashed-message"),b=d("text-input"),k=d("select-input"),w=d("tec-action-message"),S=d("loading-button"),v=d("tec-form-section"),y=d("Dialog"),V=d("admin-layout");return a(),h(V,{title:e.$t(r.edit?"edit_x":"create_x",{x:e.$t("Category")})},{default:i(()=>[m(v,{onSubmitted:n.update},{title:i(()=>[f("div",q,[r.edit?(a(),c(p,{key:0},[m(C,{class:"text-blue-600 hover:text-blue-700",href:e.route("categories.index")},{default:i(()=>[u(l(e.$t("Categories")),1)]),_:1},8,["href"]),o[5]||(o[5]=f("span",{class:"text-blue-600 font-medium mx-2"},"/",-1)),u(" "+l(r.edit.name),1)],64)):(a(),c(p,{key:1},[u(l(e.$t("create_x",{x:e.$t("Category")})),1)],64))])]),description:i(()=>[u(l(r.edit?e.$t("Update the record by modifying the details in the form below"):e.$t("Please fill the form below to add new record.")),1)]),form:i(()=>[r.edit&&r.edit.deleted_at?(a(),h(T,{key:0,class:"mb-6",onRestore:n.restore},{default:i(()=>[u(l(e.$t("This record has been deleted.")),1)]),_:1},8,["onRestore"])):g("",!0),f("div",z,[m(b,{modelValue:s.form.name,"onUpdate:modelValue":o[0]||(o[0]=t=>s.form.name=t),error:e.$page.props.errors.name,label:e.$t("Name")},null,8,["modelValue","error","label"]),m(b,{modelValue:s.form.code,"onUpdate:modelValue":o[1]||(o[1]=t=>s.form.code=t),error:e.$page.props.errors.code,label:e.$t("Code")},null,8,["modelValue","error","label"]),r.parents&&r.parents.length>1?(a(),h(k,{key:0,modelValue:s.form.parent_id,"onUpdate:modelValue":o[2]||(o[2]=t=>s.form.parent_id=t),label:e.$t("Parent Category"),error:e.$page.props.errors.parent_id},{default:i(()=>[f("option",G,l(e.$t("Select")),1),(a(!0),c(p,null,E(r.parents,t=>{var _;return a(),c(p,{key:t.id},[t.id!=((_=r.edit)==null?void 0:_.id)?(a(),c("option",{key:0,value:t.id},l(t.name),9,H)):g("",!0)],64)}),128))]),_:1},8,["modelValue","label","error"])):g("",!0)])]),actions:i(()=>[f("div",J,[r.edit?(a(),c(p,{key:0},[r.edit.deleted_at?(a(),c("button",{key:1,type:"button",onClick:o[4]||(o[4]=(...t)=>n.deletePermanently&&n.deletePermanently(...t)),class:"text-red-600 px-4 py-2 rounded-sm border-2 border-transparent hover:border-gray-300 focus:outline-hidden focus:border-gray-300"},l(e.$t("delete_x",{x:e.$t("Permanently")})),1)):(a(),c("button",{key:0,type:"button",onClick:o[3]||(o[3]=(...t)=>n.destroy&&n.destroy(...t)),class:"text-red-600 px-4 py-2 rounded-sm border-2 border-transparent hover:border-gray-300 focus:outline-hidden focus:border-gray-300"},l(e.$t("delete_x",{x:e.$t("Category")})),1))],64)):(a(),c("div",K)),f("div",Q,[m(w,{on:s.form.recentlySuccessful,class:"mr-3"},{default:i(()=>[u(l(e.$t("Saved.")),1)]),_:1},8,["on"]),m(S,{type:"submit",loading:s.form.processing,disabled:s.form.processing},{default:i(()=>[u(l(e.$t("Save")),1)]),_:1},8,["loading","disabled"])])])]),_:1},8,["onSubmitted"]),m(y,{"max-width":"md",show:s.permanent,"action-type":"delete",title:"Delete Category?",close:n.closePermanentModal,"action-text":"Delete Permanently",action:n.deleteCategoryPermanently,content:`<p class='mb-2'>${e.$t("Are you sure you want to delete the record permanently?")}</p>
        <p>${e.$t("Once deleted, all of its resources and data will be permanently deleted.")}</p>`},null,8,["show","close","action","content"]),m(y,{show:s.confirm,close:n.closeModal,"action-type":"delete",action:n.deleteCategory,title:"Delete Category?","action-text":"Delete Category",content:e.$t("Are you sure you want to delete the record?")},null,8,["show","close","action","content"]),m(y,{show:s.restoreConf,action:n.restoreCategory,title:"Restore Category!",close:n.closeRestoreModal,"action-text":"Restore Category",content:e.$t("Are you sure you want to restore the record?")},null,8,["show","action","close","content"])]),_:1},8,["title"])}const be=j(O,[["render",W]]);export{be as default};
