import{M as j}from"./Modal-291f355a.js";import{T as $}from"./Button-d4d49350.js";import A from"./Form-884637f3.js";import{P as B}from"./Pagination-994addf5.js";import{A as L}from"./AdminLayout-e87dd638.js";import N from"./Details-1d9a71ba.js";import{T as V}from"./SectionTitle-8b846035.js";import{_ as P,r as n,o as i,d as h,e as u,a as t,g as r,h as _,t as s,m as S,p as M,T as O,c as f,i as R,n as g,b as p,F as z}from"./app-32ed258c.js";import"./CheckBox-4666b4b0.js";import"./Checkbox-36df9387.js";import"./InputError-8d3cfe49.js";import"./v4-4a60fe23.js";import"./TextInput-df42c091.js";import"./Label-fda955a2.js";import"./Input-b786da58.js";import"./SelectInput-e6e66a62.js";import"./AutoComplete-db11f07b.js";import"./throttle-50742131.js";import"./LoadingButton-1a262643.js";import"./DropdownLink-b7a93580.js";import"./ApplicationLogo-67ce1691.js";import"./ApplicationMark-984b256c.js";import"./JsBarcode-8e05172a.js";import"./TrashedMessage-f5197437.js";const E={components:{Modal:j,TecButton:$,ReportForm:A,Pagination:B,AdminLayout:L,CheckoutDetails:N,TecSectionTitle:V},props:{filters:Object,checkouts:Object,contacts:Array,users:Array,categories:Array,warehouses:Array},data(){return{checkout:null,details:!1,showForm:!1,loading:!1}},methods:{toggleForm(){this.showForm=!this.showForm},goto(e){this.checkout&&this.checkout.id==e?this.details=!0:(this.loading=!0,axios.get(route("checkouts.show",e)+"?json=yes").then(c=>{this.checkout=c.data,this.details=!0,this.loading=!1}))},showDetails(){this.details=!1},hideDetails(){this.details=!1},print(){window.print()}}},U={class:"px-4 md:px-0"},W={class:"flex items-start justify-between"},q={class:"hidden lg:inline"},G={class:"w-full print:hidden"},H={class:"bg-white -mx-4 md:mx-0 md:rounded-md shadow overflow-x-auto"},I={class:"w-full whitespace-nowrap"},J={class:"text-left font-bold"},K={class:"px-6 pt-6 pb-4"},Q={class:"px-6 pt-6 pb-4"},X={class:"px-6 pt-6 pb-4"},Y=["onClick"],Z={class:"px-6 py-4 flex items-center focus:text-indigo-500"},tt={class:"flex items-center"},et=["onClick"],st={class:"px-6 py-4"},ot={class:"flex items-center"},it={class:"text-gray-500 mr-1"},nt={class:"flex items-center"},rt={class:"text-gray-500 mr-1"},at={class:"flex items-center"},ct={class:"text-gray-500 mr-1"},lt=["onClick"],dt={class:"px-6 py-4 flex items-center"},mt={class:"w-full whitespace-normal line-clamp-3"},ht={key:0},ut={class:"border-t px-6 py-4",colspan:"3"},_t={class:"px-6 py-4 print:px-0"},pt={key:0,class:"flex items-center justify-between print:hidden"},ft={class:"text-lg"},gt={class:"hidden sm:inline"},kt={class:"-mr-2 flex items-center"},yt={class:"mt-4 print-mt-0"};function wt(e,c,l,vt,a,d){const y=n("tec-section-title"),m=n("icons"),w=n("tec-button"),v=n("report-form"),x=n("pagination"),b=n("Link"),C=n("checkout-details"),D=n("modal"),F=n("loading"),T=n("admin-layout");return i(),h(T,{title:e.$t("x_report",{x:e.$t("Checkout")})},{default:u(()=>[t("div",U,[t("div",W,[r(y,{class:"-mx-4 md:mx-0 mb-6"},{title:u(()=>[_(s(e.$t("x_report",{x:e.$t("Checkout")})),1)]),description:u(()=>[_(s(e.$t("Please review the report below")),1)]),_:1}),r(w,{type:"button",onClick:c[0]||(c[0]=o=>d.toggleForm())},{default:u(()=>[t("span",null,[r(m,{name:"toggle",class:"w-5 h-5 lg:mr-2"})]),t("span",q,s(e.$t("toggle_x",{x:e.$t("Form")})),1)]),_:1})]),r(O,{name:"slidedown"},{default:u(()=>[S(t("div",G,[r(v,{users:l.users,type:"checkout",contacts:l.contacts,categories:l.categories,warehouses:l.warehouses,action:e.route("reports.checkout")},null,8,["users","contacts","categories","warehouses","action"])],512),[[M,a.showForm]])]),_:1}),t("div",H,[t("table",I,[t("tr",J,[t("th",K,s(e.$t("Checkout")),1),t("th",Q,s(e.$t("Relations")),1),t("th",X,s(e.$t("Details")),1)]),(i(!0),f(z,null,R(l.checkouts.data,(o,xt)=>(i(),f("tr",{key:o.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[t("td",{class:g(["border-t",{"cursor-pointer":e.$can("read-checkouts")}]),onClick:k=>d.goto(o.id)},[t("div",Z,[t("div",null,[t("div",null,s(o.reference),1),t("div",null,s(e.$date(o.date)),1),t("div",tt,[_(s(e.$t("Draft"))+": ",1),o.draft==1?(i(),h(m,{key:0,name:"tick",class:"text-green-600 mx-auto"})):(i(),h(m,{key:1,name:"cross",class:"text-red-600 mx-auto"}))])]),o.deleted_at?(i(),h(m,{key:0,name:"trash",class:"shrink-0 w-4 h-4 text-red-500 ml-2"})):p("",!0)])],10,Y),t("td",{class:g(["border-t",{"cursor-pointer":e.$can("read-checkouts")}]),onClick:k=>d.goto(o.id)},[t("div",st,[t("div",ot,[t("div",it,s(e.$t("Contact"))+":",1),_(" "+s(o.contact.name),1)]),t("div",nt,[t("div",rt,s(e.$t("Warehouse"))+":",1),_(" "+s(o.warehouse.name),1)]),t("div",at,[t("div",ct,s(e.$t("User"))+":",1),_(" "+s(o.user.name),1)])])],10,et),t("td",{class:g(["border-t max-w-lg min-w-56",{"cursor-pointer":e.$can("read-checkouts")}]),onClick:k=>d.goto(o.id)},[t("div",dt,[t("div",mt,s(o.details),1)])],10,lt)]))),128)),l.checkouts.data.length===0?(i(),f("tr",ht,[t("td",ut,s(e.$t("There is no data to display.")),1)])):p("",!0)])]),r(x,{class:"mt-6",meta:l.checkouts.meta,links:l.checkouts.links},null,8,["meta","links"])]),r(D,{show:a.details,"max-width":"4xl",closeable:!0,onClose:d.hideDetails},{default:u(()=>[t("div",_t,[a.details&&a.checkout?(i(),f("div",pt,[t("div",ft,[_(s(e.$t("Checkout Details"))+" ",1),t("span",gt,"("+s(a.checkout.reference)+")",1)]),t("div",kt,[t("button",{onClick:c[1]||(c[1]=o=>d.print()),class:"flex items-center justify-center mr-2 h-8 w-8 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-300 focus:outline-none"},[r(m,{name:"printer",class:"h-5 w-5"})]),e.$can("update-checkouts")?(i(),h(b,{key:0,href:e.route("checkouts.edit",a.checkout.id),class:"flex items-center justify-center mr-2 h-8 w-8 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-300 focus:outline-none"},{default:u(()=>[r(m,{name:"edit",class:"h-5 w-5"})]),_:1},8,["href"])):p("",!0),t("button",{onClick:c[2]||(c[2]=o=>d.hideDetails()),class:"flex items-center justify-center h-8 w-8 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-300 focus:outline-none"},[r(m,{name:"cross",class:"h-5 w-5"})])])])):p("",!0),t("div",yt,[a.checkout?(i(),h(C,{key:0,checkout:a.checkout},null,8,["checkout"])):p("",!0)])])]),_:1},8,["show","onClose"]),a.loading?(i(),h(F,{key:0})):p("",!0)]),_:1},8,["title"])}const It=P(E,[["render",wt]]);export{It as default};
