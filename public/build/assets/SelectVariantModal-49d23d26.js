import{k as g,_ as b,r,o as i,d,e as k,a as l,t as m,g as u,c as h,b as w,i as v,F as V}from"./app-32ed258c.js";import{a as y}from"./_baseIsEqual-36c00515.js";import{M as C}from"./Modal-291f355a.js";import{T as E}from"./TextInput-df42c091.js";import{A as S}from"./AutoComplete-db11f07b.js";import{L as q}from"./LoadingButton-1a262643.js";var B=y;function I(e,t){return B(e,t)}var F=I;const O=g(F),L={emits:["close","selected"],components:{AutoComplete:S,LoadingButton:q,Modal:C,TextInput:E},props:{variants:{required:!0},nf:String,show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},data(){return{sku:null,error:null}},watch:{sku:{immediate:!0,handler(e){e&&e.length==36&&(this.error=null,this.$emit("selected",e))}}},mounted(){this.error=null,document.getElementById("variation-sku").focus()},methods:{checkSelected(){this.variants.find(e=>!e.selected)||this.add()},add(){if(this.variants.find(e=>!e.selected))this.error=this.$t("Please select all the variants");else{let e={};this.variants.map(t=>t.selected?e[t.name]=t.selected:""),this.error=null,this.$emit("selected",e)}},close(){this.$emit("close")}}},M={class:"relative px-6 py-4"},N={class:"text-lg font-bold"},U={class:"mt-4"},j={class:"py-2 mx-auto max-w-7xl"},A={key:0,class:"text-red-600 px-4 py-3 mb-6 rounded-md bg-red-100"},D={class:"flex items-start gap-6"};function T(e,t,o,W,n,c){const f=r("icons"),p=r("text-input"),_=r("auto-complete"),x=r("modal");return i(),d(x,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:c.close},{default:k(()=>[l("div",M,[l("h3",N,m(e.$t("Select Variants")),1),l("button",{onClick:t[0]||(t[0]=s=>c.close()),class:"fixed top-2 right-2 flex items-center justify-center h-8 w-8 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-300 focus:outline-none"},[u(f,{name:"cross",class:"h-5 w-5"})]),l("div",U,[l("section",j,[n.error||o.nf?(i(),h("div",A,m(n.error||o.nf),1)):w("",!0),u(p,{class:"w-full block mb-6",id:"variation-sku",modelValue:n.sku,"onUpdate:modelValue":t[1]||(t[1]=s=>n.sku=s),placeholder:e.$t("Scan barcode")},null,8,["modelValue","placeholder"]),l("div",D,[(i(!0),h(V,null,v(o.variants,s=>(i(),d(_,{key:s.sku,class:"w-1/2",id:s.sku,label:e.$t(s.name),modelValue:s.selected,"onUpdate:modelValue":[a=>s.selected=a,c.checkSelected],position:"bottom-12 sm:top-12",suggestions:s.option.filter(a=>a).map(a=>e.$t(a))},null,8,["id","label","modelValue","onUpdate:modelValue","suggestions"]))),128))])])])])]),_:1},8,["show","max-width","closeable","onClose"])}const Q=b(L,[["render",T]]);export{Q as S,O as _};
