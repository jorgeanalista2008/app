import{T as g}from"./Label-fda955a2.js";import{T as v}from"./Input-b786da58.js";import{T as y}from"./InputError-8d3cfe49.js";import{_ as k,r as a,o as r,c as d,d as m,b as u,a as s,g as i,h as f,t as h}from"./app-32ed258c.js";import{v as V}from"./v4-4a60fe23.js";const w={emits:["update:modelValue"],components:{TecLabel:g,TecInput:v,TecInputError:y},props:{label:String,error:String,accept:String,modelValue:File,id:{type:String,default(){return V()}}},watch:{modelValue(e){e||(this.$refs.file.value="")}},computed:{selected(){return this.modelValue?this.modelValue.name+" ("+this.filesize(this.modelValue.size)+")":""}},methods:{filesize(e){var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toFixed(2)*1+" "+["B","kB","MB","GB","TB"][t]},browse(){this.$refs.file.click()},change(e){this.$emit("update:modelValue",e.target.files[0])},remove(){this.$emit("update:modelValue",null)}}},x={class:"mt-1 relative rounded-md"},B={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},T={class:"absolute inset-y-0 right-0 flex items-center"},C={class:"hidden sm:inline-block"},S={class:"hidden sm:inline-block"},F=["id","accept"];function M(e,t,l,N,I,o){const p=a("tec-label"),c=a("icons"),b=a("tec-input"),_=a("tec-input-error");return r(),d("div",null,[l.label?(r(),m(p,{key:0,for:l.id,value:l.label},null,8,["for","value"])):u("",!0),s("div",x,[s("div",B,[i(c,{name:"link",class:"text-gray-500"})]),i(b,{type:"text",onClick:o.browse,id:"file-input",readonly:"true",value:o.selected,placeholder:e.$t("Select File"),class:"block w-full pl-10 pr-12"},null,8,["onClick","value","placeholder"]),s("div",T,[l.modelValue?(r(),d("button",{key:0,type:"button",onClick:t[0]||(t[0]=(...n)=>o.remove&&o.remove(...n)),class:"px-4 py-2 bg-red-500 hover:bg-red-700 focus:outline-none rounded-r-md font-medium text-white flex items-center"},[i(c,{name:"cross",class:"w-6 h-6 sm:mr-2"}),f("  "),s("span",C,h(e.$t("Remove")),1)])):(r(),d("button",{key:1,type:"button",onClick:t[1]||(t[1]=(...n)=>o.browse&&o.browse(...n)),class:"px-4 py-2 bg-gray-600 hover:bg-gray-800 focus:outline-none rounded-r-md font-medium text-white flex items-center"},[i(c,{name:"folder",class:"w-6 h-6 sm:mr-2"}),f("  "),s("span",S,h(e.$t("Browse")),1)]))]),s("input",{id:l.id,ref:"file",type:"file",accept:l.accept,class:"hidden",onChange:t[2]||(t[2]=(...n)=>o.change&&o.change(...n))},null,40,F)]),l.error?(r(),m(_,{key:1,message:l.error,class:"absolute mt-0"},null,8,["message"])):u("",!0)])}const R=k(w,[["render",M]]);export{R as F};
